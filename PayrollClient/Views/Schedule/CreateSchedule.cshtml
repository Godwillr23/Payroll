@model PayrolSystem.Models.DatabaseFirst.ScheduleTable

@{
    ViewBag.Title = "Create Schedule";
}

<div class="jumbotron jumb-app">
    <h2 style="margin-top: 0;">Create Schedule <span class="fa fa-shopping-cart"></span></h2>
    @using (Html.BeginForm("CreateSchedule", "Schedule", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
    {
        @Html.AntiForgeryToken()
        <hr />
        <p style="color:red; text-align:center; font-size:12px;">@Html.ValidationMessage("Error")</p>
        if (Session["ScheduleSuccess"] != null)
        {
            <p class="alert alert-success">@Session["ScheduleSuccess"].ToString()</p>
        }
        <div class="form-group">
            <div class="col-md-10">
                <label>Site:</label>
                <br />
                @Html.DropDownListFor(m => m.SiteID, ViewData["Sites"] as List<SelectListItem>, "-Select Site-", new { @class = "form-control" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <label>Guard:</label>
                <br />
                @Html.DropDownListFor(m => m.GuardID, ViewData["Guard"] as List<SelectListItem>, "-Select Guard-", new { @class = "form-control" })
            </div>
        </div>
        @*<div class="form-group">
                <div class="col-md-10">
                    <label>Shift:</label>
                    <br />
                    @Html.DropDownListFor(m => m.ShiftID, ViewData["Shifts"] as List<SelectListItem>, "-Select Shift-", new { @class = "form-control" })
                </div>
            </div>*@
        <div class="form-group">
            <div class="col-md-10">
                <label>Start Date and Time:</label>
                <br />
                @Html.TextBoxFor(m => m.start_date, new { @class = "form-control", type = "datetime-local", id = "ScheduledDate" })
                @Html.ValidationMessageFor(m => m.start_date, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <label>End Date and Time:</label>)
                <br />
                @Html.TextBoxFor(m => m.end_date, new { @class = "form-control", type = "datetime-local", id = "ScheduledDate" })
                @Html.ValidationMessageFor(m => m.end_date, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <label>No of Shifts:</label>
                <br />
                @Html.DropDownListFor(x => x.noDays, new SelectListItem[]{
                 new SelectListItem() {Text = "-Select Start Day-", Value= ""},
                 new SelectListItem() {Text = "1", Value= "1"},
                 new SelectListItem() {Text = "2", Value= "2"},
                 new SelectListItem() {Text = "3", Value= "3"},
                 new SelectListItem() {Text = "4", Value= "4"},
                 new SelectListItem() {Text = "5", Value= "5"},
                 new SelectListItem() {Text = "6", Value= "6"},
                 new SelectListItem() {Text = "7", Value= "7"},
                }, new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.noDays, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" class="btn btn-primary" value="Save" />
            </div>
        </div>
    }
</div>

@*<script type="text/javascript">
    function getDay() {
        var date = new Date(document.getElementById("ScheduledDate").value);
        document.getElementById("ScheduledDay").value = date.toString().substring(0, 3);
    }
</script>*@

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}